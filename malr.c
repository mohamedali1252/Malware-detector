#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>




#define SIZ (1 << 28)


void delay(int number_of_seconds)
{
    // Converting time into milli_seconds
    int milli_seconds = 1000 * number_of_seconds;
  
    // Storing start time
    clock_t start_time = clock();
  
    // looping till required time is not achieved
    while (clock() < start_time + milli_seconds)
        ;
}



int main (){
	while(1){
		int *p = malloc(SIZ);
		if( p==NULL){
			//error
			printf("Memory not allocated.\n");
                	exit(0);
		}
		else{
			printf("Memory allocated.\n");
			memset(p,1,SIZ);
			delay(10*1000);
			free(p);
			delay(10*1000);

		}
	}
	return 0;
}
